{% extends 'base.html' %}

{% load static crispy_forms_tags auth_extras %}

{% block title %}My Account{% endblock %}

{% block stylesheet %}
<style type="text/css">
	#nav {
		font-weight: bold;
		flex-direction: column;
		flex-wrap: nowrap;
		background-color: #00ffff;
	}

	#nav .nav-link {
		border-width: 0;
		color: black;
	}

	#nav .active{
		background-color: #3399ff;
	}

	#nav .nav-link:hover {
		background: #3399ff;
	}

	@media screen and (max-width: 768px) {
		#nav {
			flex-direction: row;
		}

	}
</style>
{% endblock %}

{% block content %}
<div class="container">
	<div class="row no-gutters">
		<!-- Menu of my account section -->
		<div class="col-sm-12 col-md-2">
			<ul id="nav" class="nav nav-tabs" role="tablist">
				<li class="nav-item">
					<a class="nav-link active" data-toggle="tab" href="#profile">My account</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-toggle="tab" href="#favourites">My favourites</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" data-toggle="tab" href="#history">Order history</a>
				</li>
				<li class="nav-item">
					<a class="nav-link" href="{% url 'logout' %}">Log out</a>
				</li>
			</ul>
		</div>
		<!-- Content of my account section -->
		<div class="col-sm-12 col-md-10 tab-content mt-3">
			<!-- Section of information about current user -->
			<div id="profile" class="container tab-pane active">
				<div class="card border-dark">
					<div class="card-header">
						<h3>My profile</h3>
					</div>
					<div class="card-body">
						<form method="post" id="profileForm" novalidate>
							{% csrf_token %}
							{{ profile_form.media }}
							{{ user_form.first_name|as_crispy_field }}
							{{ user_form.last_name|as_crispy_field }}
							{{ user_form.email|as_crispy_field }}
							{{ profile_form.birth_date|as_crispy_field }}
							{{ profile_form.phone_number|as_crispy_field }}
							<button type="submit" class="btn btn-primary" name="profile">Save</button>
						</form>
					</div>
				</div>
			</div>
			<!-- Section of information about current user's favourite courts -->
			<div id="favourites" class="container tab-pane fade">
				<h3>My favourites</h3>
				<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
			</div>
			<!-- Section of information about current user's order history -->
			<div id="history" class="container tab-pane fade">
				<h3>History</h3>
				<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
			</div>
		</div>
	</div>		
</div>
{% endblock %}